<!DOCTYPE html>
<html>
    <head>
        <link rel="stylesheet" href="InputStyles.css">
        <title>Web App</title>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <script language="javascript">
            var xmlhttp;
            function init() {
                // put more code here in case you are concerned about browsers that do not provide XMLHttpRequest object directly
                xmlhttp = new XMLHttpRequest();

                const url = "http://localhost:8080/newWebServer-1.0/webresources/fire/get-fire";

                var HttpClient = function() {
                    this.get = function(aUrl, aCallback) {
                        var anHttpRequest = new XMLHttpRequest();
                        anHttpRequest.onreadystatechange = function() {
                            if (anHttpRequest.readyState == 4 && anHttpRequest.status == 200)
                                aCallback(anHttpRequest.responseText);
                        }

                        anHttpRequest.open( "GET", aUrl, true );
                        anHttpRequest.send( null );
                    }
                }

                var fireIds;

                var client = new HttpClient();
                client.get(url, function(response) {
                    fireIds = response;
                });

                alert(fireIds);

                var select = document.getElementById("fireDropDown");


                var options = fireIds;

                for (var i = 0; i < options.length; i++) {
                    var opt = options[i];
                    var el = document.createElement("option");
                    el.textContent = opt;
                    el.value = opt;
                    select.appendChild(el);
                }
            }

            /*
             function getResponse() {
             xmlhttp = new XMLHttpRequest();
             xmlhttp.onreadystatechange = function() {
             if (this.readyState == 4 && this.status == 201) {
             alert("xmlhttp.responseText");
             //   document.getElementById("dr").innerHTML = xmlhttp.responseText;
             // }
             //   document.getElementById("dr").focus();
             //  }
             }
             };
             * 
             */
        </script>

    </head>
    <body onload="init()">   
        <h2>Send a truck</h2> 

        <form name="truck_input" id="sendTruck" action="http://localhost:8080/newWebServer-1.0/webresources/firetrucks/send-truck" 
              method="POST" >
            <label>Truck Id</label><br /> 
            <input type="text" name="truckId"><br />
            <label>Fire Id</label><br /> 
            <select name="fireId" id="fireDropDown"></select><br/>
            <input type="submit" value="Submit"  />

        </form>
        <p id ="dr" />

    </body>
</html>