<!DOCTYPE html>
<html>
    <head>
        <title>Web App</title>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <script language="javascript">
            var xmlhttp;
            function init() {
                // put more code here in case you are concerned about browsers that do not provide XMLHttpRequest object directly
                xmlhttp = new XMLHttpRequest();
                xmlhttp.responseType = "json";

                const url = "http://localhost:8080/newWebServer-1.0/webresources/fire/get-fire";

                xmlhttp.open("GET", url, false);
                xmlhttp.send();

                var fireIds = xmlhttp.response;

                alert(fireIds);

                var select = document.getElementById("fireDropDown");


                var options = fireIds;

                for (var i = 0; i < options.length; i++) {
                    var opt = options[i];
                    var el = document.createElement("option");
                    el.textContent = opt;
                    el.value = opt;
                    select.appendChild(el);
                }
            }
        </script>

    </head>
    <body onload="init()">   
        <h2>Send a truck</h2> 

        <form name="truck_input" id="sendTruck" action="http://localhost:8080/newWebServer-1.0/webresources/firetrucks/send-truck" 
              method="POST" >
            <label>Truck Id</label><br /> 
            <input type="text" name="truckId"><br />
            <label>Fire Id</label><br /> 
            <select name="fireId" id="fireDropDown"></select><br/>
            <input type="submit" value="Submit"  />

        </form>
        <p id ="dr" />

    </body>
</html>